# Comparing `tmp/edc_data_manager-0.3.8-py3-none-any.whl.zip` & `tmp/edc_data_manager-0.3.9-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,8 +1,8 @@
-Zip file size: 88040 bytes, number of entries: 101
+Zip file size: 88065 bytes, number of entries: 101
 -rw-r--r--  2.0 unx        0 b- defN 20-Mar-04 23:35 data_manager_app/__init__.py
 -rw-r--r--  2.0 unx     2152 b- defN 21-Feb-04 16:22 data_manager_app/admin.py
 -rw-r--r--  2.0 unx      177 b- defN 21-May-10 21:56 data_manager_app/admin_site.py
 -rw-r--r--  2.0 unx      157 b- defN 20-Mar-04 23:35 data_manager_app/apps.py
 -rw-r--r--  2.0 unx      440 b- defN 21-Feb-04 16:22 data_manager_app/consents.py
 -rw-r--r--  2.0 unx      591 b- defN 21-Feb-04 16:22 data_manager_app/lab_profiles.py
 -rw-r--r--  2.0 unx     4400 b- defN 21-Feb-04 16:22 data_manager_app/models.py
@@ -64,15 +64,15 @@
 -rw-r--r--  2.0 unx      438 b- defN 20-Mar-04 23:35 edc_data_manager/models/action_item.py
 -rw-r--r--  2.0 unx     2033 b- defN 20-Jul-30 04:32 edc_data_manager/models/data_dictionary.py
 -rw-r--r--  2.0 unx     9374 b- defN 21-Aug-01 22:54 edc_data_manager/models/data_query.py
 -rw-r--r--  2.0 unx     7071 b- defN 21-Feb-04 16:22 edc_data_manager/models/query_rule.py
 -rw-r--r--  2.0 unx      255 b- defN 20-Jul-30 04:32 edc_data_manager/models/query_subject.py
 -rw-r--r--  2.0 unx      348 b- defN 20-Jul-30 04:32 edc_data_manager/models/query_visit_schedule.py
 -rw-r--r--  2.0 unx      246 b- defN 20-Jul-30 04:32 edc_data_manager/models/requisition_panel.py
--rw-r--r--  2.0 unx     3043 b- defN 21-Feb-04 16:22 edc_data_manager/models/signals.py
+-rw-r--r--  2.0 unx     3281 b- defN 21-Aug-10 05:38 edc_data_manager/models/signals.py
 -rw-r--r--  2.0 unx      666 b- defN 21-Apr-22 19:41 edc_data_manager/models/user.py
 -rw-r--r--  2.0 unx      136 b- defN 20-Mar-04 23:35 edc_data_manager/rule/__init__.py
 -rw-r--r--  2.0 unx     2120 b- defN 20-Mar-04 23:35 edc_data_manager/rule/query_rule_wrapper.py
 -rw-r--r--  2.0 unx     4286 b- defN 21-Feb-04 16:22 edc_data_manager/rule/rule_runner.py
 -rw-r--r--  2.0 unx      923 b- defN 21-Feb-04 16:22 edc_data_manager/rule/update_query_rules.py
 -rw-r--r--  2.0 unx      315 b- defN 20-Mar-04 23:35 edc_data_manager/templates/edc_data_manager/bootstrap3/action_item_display_name.html
 -rw-r--r--  2.0 unx       43 b- defN 20-Mar-04 23:35 edc_data_manager/templates/edc_data_manager/bootstrap3/default_query_text.html
@@ -91,13 +91,13 @@
 -rw-r--r--  2.0 unx     8394 b- defN 21-Aug-01 22:54 edc_data_manager/tests/tests/test_endpoints.py
 -rw-r--r--  2.0 unx    17724 b- defN 21-Apr-30 00:36 edc_data_manager/tests/tests/test_query_rule.py
 -rw-r--r--  2.0 unx     4220 b- defN 21-Feb-04 16:22 edc_data_manager/tests/tests/test_serializer.py
 -rw-r--r--  2.0 unx       58 b- defN 20-Mar-04 23:35 edc_data_manager/view_mixins/__init__.py
 -rw-r--r--  2.0 unx     1025 b- defN 20-Mar-04 23:35 edc_data_manager/view_mixins/data_manager_view_mixin.py
 -rw-r--r--  2.0 unx       32 b- defN 20-Mar-04 23:35 edc_data_manager/views/__init__.py
 -rw-r--r--  2.0 unx      524 b- defN 20-Mar-04 23:35 edc_data_manager/views/home_view.py
--rw-r--r--  2.0 unx    35149 b- defN 21-Aug-01 22:54 edc_data_manager-0.3.8.dist-info/LICENSE
--rw-r--r--  2.0 unx    10919 b- defN 21-Aug-01 22:54 edc_data_manager-0.3.8.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 21-Aug-01 22:54 edc_data_manager-0.3.8.dist-info/WHEEL
--rw-r--r--  2.0 unx       34 b- defN 21-Aug-01 22:54 edc_data_manager-0.3.8.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx    10019 b- defN 21-Aug-01 22:54 edc_data_manager-0.3.8.dist-info/RECORD
-101 files, 290837 bytes uncompressed, 71572 bytes compressed:  75.4%
+-rw-r--r--  2.0 unx    35149 b- defN 21-Aug-10 05:38 edc_data_manager-0.3.9.dist-info/LICENSE
+-rw-r--r--  2.0 unx    10919 b- defN 21-Aug-10 05:38 edc_data_manager-0.3.9.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 21-Aug-10 05:38 edc_data_manager-0.3.9.dist-info/WHEEL
+-rw-r--r--  2.0 unx       34 b- defN 21-Aug-10 05:38 edc_data_manager-0.3.9.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx    10019 b- defN 21-Aug-10 05:38 edc_data_manager-0.3.9.dist-info/RECORD
+101 files, 291075 bytes uncompressed, 71597 bytes compressed:  75.4%
```

## zipnote {}

```diff
@@ -282,23 +282,23 @@
 
 Filename: edc_data_manager/views/__init__.py
 Comment: 
 
 Filename: edc_data_manager/views/home_view.py
 Comment: 
 
-Filename: edc_data_manager-0.3.8.dist-info/LICENSE
+Filename: edc_data_manager-0.3.9.dist-info/LICENSE
 Comment: 
 
-Filename: edc_data_manager-0.3.8.dist-info/METADATA
+Filename: edc_data_manager-0.3.9.dist-info/METADATA
 Comment: 
 
-Filename: edc_data_manager-0.3.8.dist-info/WHEEL
+Filename: edc_data_manager-0.3.9.dist-info/WHEEL
 Comment: 
 
-Filename: edc_data_manager-0.3.8.dist-info/top_level.txt
+Filename: edc_data_manager-0.3.9.dist-info/top_level.txt
 Comment: 
 
-Filename: edc_data_manager-0.3.8.dist-info/RECORD
+Filename: edc_data_manager-0.3.9.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## edc_data_manager/models/signals.py

```diff
@@ -1,11 +1,12 @@
 from django.conf import settings
 from django.db.models.signals import post_save
 from django.dispatch.dispatcher import receiver
 from edc_lab.utils import get_panel_model
+from edc_model.utils import is_inline_model
 
 from ..rule import RuleRunner
 from .data_query import DataQuery
 from .query_rule import QueryRule
 from .query_visit_schedule import QueryVisitSchedule
 
 DATA_MANAGER_ENABLED = getattr(settings, "DATA_MANAGER_ENABLED", True)
@@ -26,43 +27,44 @@
     if not raw:
         if DATA_MANAGER_ENABLED:
             try:
                 instance.visit_model_attr  # is a CRF/Requisition
             except AttributeError:
                 pass
             else:
-                subject_identifier = instance.visit.appointment.subject_identifier
-                visit_schedule = QueryVisitSchedule.objects.get(
-                    visit_schedule_name=instance.visit.appointment.visit_schedule_name,
-                    schedule_name=instance.visit.appointment.schedule_name,
-                    visit_code=instance.visit.appointment.visit_code,
-                )
-                try:
-                    instance.panel
-                except AttributeError:
-                    data_queries = DataQuery.objects.filter(
-                        id__isnull=False,
-                        rule_generated=True,
-                        subject_identifier=subject_identifier,
-                        visit_schedule=visit_schedule,
-                        data_dictionaries__model=sender._meta.label_lower,
-                    )
-                else:
-                    data_queries = DataQuery.objects.filter(
-                        id__isnull=False,
-                        rule_generated=True,
-                        subject_identifier=subject_identifier,
-                        visit_schedule=visit_schedule,
-                        requisition_panel=get_panel_model().objects.get(
-                            name=instance.panel.name
-                        ),
-                    )
-                for data_query in data_queries:
-                    query_rule = QueryRule.objects.get(reference=data_query.rule_reference)
-                    runner = RuleRunner(query_rule)
-                    runner.run_one(
-                        subject_identifier=subject_identifier,
-                        visit_schedule_name=instance.visit.appointment.visit_schedule_name,  # noqa
+                if not is_inline_model(instance):
+                    subject_identifier = instance.visit.appointment.subject_identifier
+                    visit_schedule = QueryVisitSchedule.objects.get(
+                        visit_schedule_name=instance.visit.appointment.visit_schedule_name,
                         schedule_name=instance.visit.appointment.schedule_name,
                         visit_code=instance.visit.appointment.visit_code,
-                        timepoint=instance.visit.appointment.timepoint,
                     )
+                    try:
+                        instance.panel
+                    except AttributeError:
+                        data_queries = DataQuery.objects.filter(
+                            id__isnull=False,
+                            rule_generated=True,
+                            subject_identifier=subject_identifier,
+                            visit_schedule=visit_schedule,
+                            data_dictionaries__model=sender._meta.label_lower,
+                        )
+                    else:
+                        data_queries = DataQuery.objects.filter(
+                            id__isnull=False,
+                            rule_generated=True,
+                            subject_identifier=subject_identifier,
+                            visit_schedule=visit_schedule,
+                            requisition_panel=get_panel_model().objects.get(
+                                name=instance.panel.name
+                            ),
+                        )
+                    for data_query in data_queries:
+                        query_rule = QueryRule.objects.get(reference=data_query.rule_reference)
+                        runner = RuleRunner(query_rule)
+                        runner.run_one(
+                            subject_identifier=subject_identifier,
+                            visit_schedule_name=instance.visit.appointment.visit_schedule_name,  # noqa
+                            schedule_name=instance.visit.appointment.schedule_name,
+                            visit_code=instance.visit.appointment.visit_code,
+                            timepoint=instance.visit.appointment.timepoint,
+                        )
```

## Comparing `edc_data_manager-0.3.8.dist-info/LICENSE` & `edc_data_manager-0.3.9.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `edc_data_manager-0.3.8.dist-info/METADATA` & `edc_data_manager-0.3.9.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: edc-data-manager
-Version: 0.3.8
+Version: 0.3.9
 Summary: Data manager administrative models and classes
 Home-page: https://github.com/clinicedc/edc-data-manager
 Author: Erik van Widenfelt
 Author-email: ew2789@gmail.com
 License: GPL license, see LICENSE
 Keywords: django base classes for identifiers
 Platform: UNKNOWN
```

## Comparing `edc_data_manager-0.3.8.dist-info/RECORD` & `edc_data_manager-0.3.9.dist-info/RECORD`

 * *Files 2% similar despite different names*

```diff
@@ -63,15 +63,15 @@
 edc_data_manager/models/action_item.py,sha256=hoX0KLElIFR82wXXKgKSnEu8EX_db2SK8p4RzpqgoiQ,438
 edc_data_manager/models/data_dictionary.py,sha256=AAxO2Hn8pdcYrM9qECAy6mo44qcvWxlZRNQW4tyBmhI,2033
 edc_data_manager/models/data_query.py,sha256=zkOVaJG8U18_39l6LzD_QVfUVcE509EggectVprftG0,9374
 edc_data_manager/models/query_rule.py,sha256=bxvTdkywnF1NwBQCVVI7QFB3ZHB3nY-SookmOI0mflM,7071
 edc_data_manager/models/query_subject.py,sha256=ijtKL2d4aaVWcWVDhrmtVtzAb0JA-sh2Knp9U5r9EdI,255
 edc_data_manager/models/query_visit_schedule.py,sha256=CJftULyBRmnuakxMiEJh-Iw6k89Q5gTctUVYUUsKzlg,348
 edc_data_manager/models/requisition_panel.py,sha256=Vc4dvEaWd7frvKMBSUyK4eVvUtjmWh7Khehg47Xt_70,246
-edc_data_manager/models/signals.py,sha256=KeB1SlVKyQ0bUu5v3x5eiF_FcQ1AQZWa_Q9QRc9AaaQ,3043
+edc_data_manager/models/signals.py,sha256=FO6Rke6AcgRvCXOjpSsF8CG6px50EXrInNz2FNybyQg,3281
 edc_data_manager/models/user.py,sha256=7Rt6rtxYiYoQ7kBSWAKbJvAUAoTNzNwlMFcAPecNQDI,666
 edc_data_manager/rule/__init__.py,sha256=TJ7VsDp0pSK-PbdMU5pZN5tpqRNepHDKgcsWQFP9Kw8,136
 edc_data_manager/rule/query_rule_wrapper.py,sha256=yIug_taPvvI0ZKCS7qYoP-N7Kxy4KE6_Qskzcv6E7bs,2120
 edc_data_manager/rule/rule_runner.py,sha256=y_PCnR1pnVIxpcHIvuNmY5UWKOfrYr5izp0_D6gK-sU,4286
 edc_data_manager/rule/update_query_rules.py,sha256=cyGtYenxB6BG4ZeXez59fr0xodkz02nSpOfQgew14jo,923
 edc_data_manager/templates/edc_data_manager/bootstrap3/action_item_display_name.html,sha256=VUzTFP13lB49xSW0CrEYPIUqPH5xD7ag7YniItA-3QY,315
 edc_data_manager/templates/edc_data_manager/bootstrap3/default_query_text.html,sha256=l5SbdsG8zGZbz9ZHxRKarZNaKwjUNHTX0IjylTPViX8,43
@@ -90,12 +90,12 @@
 edc_data_manager/tests/tests/test_endpoints.py,sha256=R3o81e4gDludzOCAhPR1J5kIHJQQkyxGNME_y5ZCNQU,8394
 edc_data_manager/tests/tests/test_query_rule.py,sha256=nAYWcRXf0Tht5zQGl3eQ0697ZXVmNl26Ioy7-71RxiA,17724
 edc_data_manager/tests/tests/test_serializer.py,sha256=pt9JZvTC-4n76MpCs6XEgT8rrHGTLVZfghDl_m2MO0Q,4220
 edc_data_manager/view_mixins/__init__.py,sha256=hq8PcxGubEAKLBSqLN8_J8nCRgENp8P40CBJ5AhF2wI,58
 edc_data_manager/view_mixins/data_manager_view_mixin.py,sha256=tFZKXFzC16b-mIPT3zToAFzEdStAT1Af0zRrAoq1s_M,1025
 edc_data_manager/views/__init__.py,sha256=TBXTih4Mpsg5Oh2jbyXqL9kH7bu3vWNRgVe93hvLCl8,32
 edc_data_manager/views/home_view.py,sha256=RcipviUi3Q9z649X2h_88uY2ezF62fp_G1kp09Ax1sU,524
-edc_data_manager-0.3.8.dist-info/LICENSE,sha256=OXLcl0T2SZ8Pmy2_dmlvKuetivmyPd5m1q-Gyd-zaYY,35149
-edc_data_manager-0.3.8.dist-info/METADATA,sha256=XoQ2_Q8r79u9KGDElHK8n0pJxQxFqYt0K77o-LAC-X8,10919
-edc_data_manager-0.3.8.dist-info/WHEEL,sha256=OqRkF0eY5GHssMorFjlbTIq072vpHpF60fIQA6lS9xA,92
-edc_data_manager-0.3.8.dist-info/top_level.txt,sha256=xbcT1QNeN86N7_NpxwupZKwpq7sGxmA1W5o_VNKGs0U,34
-edc_data_manager-0.3.8.dist-info/RECORD,,
+edc_data_manager-0.3.9.dist-info/LICENSE,sha256=OXLcl0T2SZ8Pmy2_dmlvKuetivmyPd5m1q-Gyd-zaYY,35149
+edc_data_manager-0.3.9.dist-info/METADATA,sha256=4bUJJ4HwB0vQFkfcjXfXbB8FghtYnXzcVD6fXNBT0w4,10919
+edc_data_manager-0.3.9.dist-info/WHEEL,sha256=OqRkF0eY5GHssMorFjlbTIq072vpHpF60fIQA6lS9xA,92
+edc_data_manager-0.3.9.dist-info/top_level.txt,sha256=xbcT1QNeN86N7_NpxwupZKwpq7sGxmA1W5o_VNKGs0U,34
+edc_data_manager-0.3.9.dist-info/RECORD,,
```

