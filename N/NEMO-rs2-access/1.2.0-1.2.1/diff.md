# Comparing `tmp/NEMO_rs2_access-1.2.0-py3-none-any.whl.zip` & `tmp/NEMO_rs2_access-1.2.1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,26 +1,26 @@
-Zip file size: 19826 bytes, number of entries: 24
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-21 17:23 NEMO_rs2_access/__init__.py
--rw-r--r--  2.0 unx     2640 b- defN 23-Jun-21 17:23 NEMO_rs2_access/admin.py
--rw-r--r--  2.0 unx      229 b- defN 23-Jun-21 17:23 NEMO_rs2_access/app_settings.py
--rw-r--r--  2.0 unx      543 b- defN 23-Jun-21 17:23 NEMO_rs2_access/apps.py
--rw-r--r--  2.0 unx     1719 b- defN 23-Jun-21 17:23 NEMO_rs2_access/models.py
--rw-r--r--  2.0 unx    12881 b- defN 23-Jun-21 17:23 NEMO_rs2_access/rs2.py
--rw-r--r--  2.0 unx      392 b- defN 23-Jun-21 17:23 NEMO_rs2_access/urls.py
--rw-r--r--  2.0 unx     3132 b- defN 23-Jun-21 17:23 NEMO_rs2_access/views.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-21 17:23 NEMO_rs2_access/management/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-21 17:23 NEMO_rs2_access/management/commands/__init__.py
--rw-r--r--  2.0 unx      240 b- defN 23-Jun-21 17:23 NEMO_rs2_access/management/commands/rs2_sync_access.py
--rw-r--r--  2.0 unx      229 b- defN 23-Jun-21 17:23 NEMO_rs2_access/management/commands/rs2_sync_readers.py
--rw-r--r--  2.0 unx     1830 b- defN 23-Jun-21 17:23 NEMO_rs2_access/migrations/0001_initial.py
--rw-r--r--  2.0 unx      902 b- defN 23-Jun-21 17:23 NEMO_rs2_access/migrations/0002_cardholder.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-21 17:23 NEMO_rs2_access/migrations/__init__.py
--rw-rw-rw-  2.0 unx     1316 b- defN 23-Jun-21 17:23 NEMO_rs2_access/templates/NEMO_rs2_access/preferences_default_project.html
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-21 17:23 NEMO_rs2_access/tests/__init__.py
--rw-r--r--  2.0 unx    10287 b- defN 23-Jun-21 17:23 NEMO_rs2_access/tests/test_rs2.py
--rw-r--r--  2.0 unx     5224 b- defN 23-Jun-21 17:23 NEMO_rs2_access/tests/test_settings.py
--rw-rw-rw-  2.0 unx     1074 b- defN 23-Jun-21 17:23 NEMO_rs2_access-1.2.0.dist-info/LICENSE
--rw-r--r--  2.0 unx     3287 b- defN 23-Jun-21 17:23 NEMO_rs2_access-1.2.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jun-21 17:23 NEMO_rs2_access-1.2.0.dist-info/WHEEL
--rw-r--r--  2.0 unx       16 b- defN 23-Jun-21 17:23 NEMO_rs2_access-1.2.0.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2186 b- defN 23-Jun-21 17:23 NEMO_rs2_access-1.2.0.dist-info/RECORD
-24 files, 48219 bytes uncompressed, 16190 bytes compressed:  66.4%
+Zip file size: 19862 bytes, number of entries: 24
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-01 21:55 NEMO_rs2_access/__init__.py
+-rw-r--r--  2.0 unx     2640 b- defN 23-Aug-01 21:55 NEMO_rs2_access/admin.py
+-rw-r--r--  2.0 unx      229 b- defN 23-Aug-01 21:55 NEMO_rs2_access/app_settings.py
+-rw-r--r--  2.0 unx      543 b- defN 23-Aug-01 21:55 NEMO_rs2_access/apps.py
+-rw-r--r--  2.0 unx     1719 b- defN 23-Aug-01 21:55 NEMO_rs2_access/models.py
+-rw-r--r--  2.0 unx    12898 b- defN 23-Aug-01 21:55 NEMO_rs2_access/rs2.py
+-rw-r--r--  2.0 unx      392 b- defN 23-Aug-01 21:55 NEMO_rs2_access/urls.py
+-rw-r--r--  2.0 unx     3132 b- defN 23-Aug-01 21:55 NEMO_rs2_access/views.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-01 21:55 NEMO_rs2_access/management/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-01 21:55 NEMO_rs2_access/management/commands/__init__.py
+-rw-r--r--  2.0 unx      240 b- defN 23-Aug-01 21:55 NEMO_rs2_access/management/commands/rs2_sync_access.py
+-rw-r--r--  2.0 unx      229 b- defN 23-Aug-01 21:55 NEMO_rs2_access/management/commands/rs2_sync_readers.py
+-rw-r--r--  2.0 unx     1830 b- defN 23-Aug-01 21:55 NEMO_rs2_access/migrations/0001_initial.py
+-rw-r--r--  2.0 unx      902 b- defN 23-Aug-01 21:55 NEMO_rs2_access/migrations/0002_cardholder.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-01 21:55 NEMO_rs2_access/migrations/__init__.py
+-rw-rw-rw-  2.0 unx     1316 b- defN 23-Aug-01 21:55 NEMO_rs2_access/templates/NEMO_rs2_access/preferences_default_project.html
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-01 21:55 NEMO_rs2_access/tests/__init__.py
+-rw-r--r--  2.0 unx    10496 b- defN 23-Aug-01 21:55 NEMO_rs2_access/tests/test_rs2.py
+-rw-r--r--  2.0 unx     5224 b- defN 23-Aug-01 21:55 NEMO_rs2_access/tests/test_settings.py
+-rw-rw-rw-  2.0 unx     1074 b- defN 23-Aug-01 21:56 NEMO_rs2_access-1.2.1.dist-info/LICENSE
+-rw-r--r--  2.0 unx     3287 b- defN 23-Aug-01 21:56 NEMO_rs2_access-1.2.1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Aug-01 21:56 NEMO_rs2_access-1.2.1.dist-info/WHEEL
+-rw-r--r--  2.0 unx       16 b- defN 23-Aug-01 21:56 NEMO_rs2_access-1.2.1.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2186 b- defN 23-Aug-01 21:56 NEMO_rs2_access-1.2.1.dist-info/RECORD
+24 files, 48445 bytes uncompressed, 16226 bytes compressed:  66.5%
```

## zipnote {}

```diff
@@ -51,23 +51,23 @@
 
 Filename: NEMO_rs2_access/tests/test_rs2.py
 Comment: 
 
 Filename: NEMO_rs2_access/tests/test_settings.py
 Comment: 
 
-Filename: NEMO_rs2_access-1.2.0.dist-info/LICENSE
+Filename: NEMO_rs2_access-1.2.1.dist-info/LICENSE
 Comment: 
 
-Filename: NEMO_rs2_access-1.2.0.dist-info/METADATA
+Filename: NEMO_rs2_access-1.2.1.dist-info/METADATA
 Comment: 
 
-Filename: NEMO_rs2_access-1.2.0.dist-info/WHEEL
+Filename: NEMO_rs2_access-1.2.1.dist-info/WHEEL
 Comment: 
 
-Filename: NEMO_rs2_access-1.2.0.dist-info/top_level.txt
+Filename: NEMO_rs2_access-1.2.1.dist-info/top_level.txt
 Comment: 
 
-Filename: NEMO_rs2_access-1.2.0.dist-info/RECORD
+Filename: NEMO_rs2_access-1.2.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## NEMO_rs2_access/rs2.py

```diff
@@ -244,15 +244,15 @@
     Figure out which project to charge for the user, given a datetime
     1. If the user has only one active project, use it
     2. Be smart and check tool usage for this user (non-remote) charge once per account
     3. No tool usage, use default project
     4. No default project, use first active project by relation id (== first one added)
     """
     # We are using the through relation to get order by relation id, which means ordered by added time (lower id)
-    active_through_projects = user.projects.through.objects.filter(project__active=True, project__account__active=True)
+    active_through_projects = user.projects.through.objects.filter(user_id=user.id, project__active=True, project__account__active=True)
     # Case #1
     if active_through_projects.count() == 1:
         return list(active_through_projects.values_list("project_id", flat=True))
     # Case #2
     ongoing_events = (
         UsageEvent.objects.filter(user=user, end__isnull=True)
         .exclude(remote_work=True)
```

## NEMO_rs2_access/tests/test_rs2.py

```diff
@@ -76,14 +76,18 @@
         project2: Project = Project.objects.create(name="Test project 2", account=account)
         project3: Project = Project.objects.create(
             name="Test project 3", account=Account.objects.create(name="Test account 2")
         )
         user, created = User.objects.get_or_create(
             username="testy", first_name="McTester", last_name="testy", badge_number=1
         )
+        random_user, created = User.objects.get_or_create(
+            username="randy", first_name="McRander", last_name="randy", badge_number=11
+        )
+        random_user.projects.add(project, project2)
         start = timezone.now() - timedelta(minutes=30)
         end = timezone.now()
         # no project, exception
         self.assertRaises(Exception, get_project_ids_to_charge_for_user, user, start, end)
         # one project, should be the one
         user.projects.add(project)
         self.assertEquals([project.id], get_project_ids_to_charge_for_user(user, start, end))
```

## Comparing `NEMO_rs2_access-1.2.0.dist-info/LICENSE` & `NEMO_rs2_access-1.2.1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `NEMO_rs2_access-1.2.0.dist-info/METADATA` & `NEMO_rs2_access-1.2.1.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: NEMO-rs2-access
-Version: 1.2.0
+Version: 1.2.1
 Summary: Install RS2 access plugin for NEMO
 Home-page: https://gitlab.com/nemo-community/atlantis-labs/nemo-rs2-access
 Author: Atlantis Labs LLC
 Author-email: atlantis@atlantislabs.io
 License: MIT
 Keywords: NEMO
 Classifier: Development Status :: 5 - Production/Stable
```

## Comparing `NEMO_rs2_access-1.2.0.dist-info/RECORD` & `NEMO_rs2_access-1.2.1.dist-info/RECORD`

 * *Files 12% similar despite different names*

```diff
@@ -1,24 +1,24 @@
 NEMO_rs2_access/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_rs2_access/admin.py,sha256=aJKucufGsREYOE7h8zFzxo0AY52Ft3Skf9B4yIlt1w0,2640
 NEMO_rs2_access/app_settings.py,sha256=eEEA-t7lbRdr3EP7T-nKsQwCrsHkQSjr_THFDH-3TFg,229
 NEMO_rs2_access/apps.py,sha256=9pLKmq42SEuj2_moEluzinN6q-aJukrqpFEWhoboOqA,543
 NEMO_rs2_access/models.py,sha256=hR_YHowp1bvTE4Q-6lQ1cfSQnGpbFJqc88K-CZMU0Mo,1719
-NEMO_rs2_access/rs2.py,sha256=wx9I-QbawIrEf_31cQCxfphnyFs9yFL2syZ8O8ZorXQ,12881
+NEMO_rs2_access/rs2.py,sha256=8pbrGekdZlsJYq21wj6CW7wz_MvujXuo1RUM80yulIA,12898
 NEMO_rs2_access/urls.py,sha256=COtyhTblZXpHsgrW5ZaAMVBZ9MpS1ldPZAJ5jk6fYwQ,392
 NEMO_rs2_access/views.py,sha256=2fnUw7oK_t-FwZmNZU9yOtl3fQ3kudJ8MRS1Ya-hu-E,3132
 NEMO_rs2_access/management/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_rs2_access/management/commands/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_rs2_access/management/commands/rs2_sync_access.py,sha256=cZWLdWSh4Nc4qswNMgU51Kab20gR6jYMFyza1FyuUWE,240
 NEMO_rs2_access/management/commands/rs2_sync_readers.py,sha256=usjV-T6wIh1NFUwWAZ9pyTyJR-JL4xgQ1m5kb-s-1Fw,229
 NEMO_rs2_access/migrations/0001_initial.py,sha256=hSE8y7fAy2hZhFMkwdpjHa1Sx_47kU_L2z4GP0Zh06M,1830
 NEMO_rs2_access/migrations/0002_cardholder.py,sha256=cYGJCYGMTeYwCLcSGPoE6tWGkjiZ-rrhvb2To4wDrkU,902
 NEMO_rs2_access/migrations/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 NEMO_rs2_access/templates/NEMO_rs2_access/preferences_default_project.html,sha256=OmBSudrwif-lvUn96Sx7y2uc0x0UQjhl0SKl05cs4fw,1316
 NEMO_rs2_access/tests/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-NEMO_rs2_access/tests/test_rs2.py,sha256=iQQiiJ8s94ZnnhAD7TNBecunI0tL9oi8JqEyQHSpuYE,10287
+NEMO_rs2_access/tests/test_rs2.py,sha256=Rs2eV8UsKxvW3Ry500A48ZOvP2a2GAkvYYepxsqELuk,10496
 NEMO_rs2_access/tests/test_settings.py,sha256=BabdWjKY-o4eyDDSnnFual1byLC5E7uaT2v5TUiAXjk,5224
-NEMO_rs2_access-1.2.0.dist-info/LICENSE,sha256=wFCCmLGvBMU6-W_0h08WYEs3cFtVstutDmY5AzKppQc,1074
-NEMO_rs2_access-1.2.0.dist-info/METADATA,sha256=mz477iO59KnjscZu_XiJB-jYBO4YHRSWVKCp9IAbVu8,3287
-NEMO_rs2_access-1.2.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-NEMO_rs2_access-1.2.0.dist-info/top_level.txt,sha256=lxDQ4qhvDJJoXKvfdHMqoreAITCgFgUuVsUHi32kwBc,16
-NEMO_rs2_access-1.2.0.dist-info/RECORD,,
+NEMO_rs2_access-1.2.1.dist-info/LICENSE,sha256=wFCCmLGvBMU6-W_0h08WYEs3cFtVstutDmY5AzKppQc,1074
+NEMO_rs2_access-1.2.1.dist-info/METADATA,sha256=OjFYIPXckHMGv8wkPjTQ_wQ4MPstPDEjiQvzwmLMjsA,3287
+NEMO_rs2_access-1.2.1.dist-info/WHEEL,sha256=AtBG6SXL3KF_v0NxLf0ehyVOh0cold-JbJYXNGorC6Q,92
+NEMO_rs2_access-1.2.1.dist-info/top_level.txt,sha256=lxDQ4qhvDJJoXKvfdHMqoreAITCgFgUuVsUHi32kwBc,16
+NEMO_rs2_access-1.2.1.dist-info/RECORD,,
```

